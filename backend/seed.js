const mongoose = require('mongoose');
const Category = require('./models/Category');
const ParentCategory = require('./models/ParentCategory');
const kidsHtml = require('./kids_data'); // Import Kids Data

// MongoDB Connection
mongoose.connect('mongodb://127.0.0.1:27017/meesho')
    .then(() => console.log('MongoDB Connected'))
    .catch(err => console.log(err));

const seeds = [
    {
        parentName: "Kurti, Saree & Lehenga",
        html: `<div id="ctg_section_21" class="styledComponents__CtgSection-sc-fhghli-7 jrWeRW"><span font-size="11px" font-weight="book" class="sc-dOfePm bdPfua styledComponents__Level1Seperator-sc-fhghli-8 gyLxNi" color="pinkBase">Kurti, Saree &amp; Lehenga</span><div class="styledComponents__Level2Wrapper-sc-fhghli-10 iDfJtQ"><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Sarees</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sarees/pl/3iy"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324521306_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">All Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/georgette-sarees/pl/3m1"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663325138869_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Georgette Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/chiffon-saree/pl/1ocy"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663325379522_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Chiffon Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/cotton-sarees/pl/3jh"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324590574_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Cotton Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/super-net-saree/pl/4cq"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324710160_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Net Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/silk-sarees/pl/3j4"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324570386_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Silk Sarees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sarees-new-collection/pl/2kn"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324664443_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">New Collection</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/bridal-lehenga-store/pl/1ilu"><img alt="Sarees" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663324628368_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Bridal Sarees</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Kurtis</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-kurtis/pl/3j0"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661506236402_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">All Kurtis</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/anarkali-kurtis/pl/4pn"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661506126751_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Anarkali Kurtis</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-rayon-kurtis/pl/1n49"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661506138169_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Rayon Kurtis</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/pure-cotton-kurtis/pl/87h"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661506149500_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Cotton Kurtis</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/regular-kurtis/pl/4ys"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663055185061_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Straight Kurtis</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/knee-length-kurtis/pl/4uz"><img alt="Kurtis" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1663055207808_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Long Kurtis</h6></a></div></div></div>`
    },
    {
        parentName: "Women Western",
        html: `<div id="ctg_section_22" class="styledComponents__CtgSection-sc-fhghli-7 jrWeRW"><span font-size="11px" font-weight="book" class="sc-dOfePm bdPfua styledComponents__Level1Seperator-sc-fhghli-8 gyLxNi" color="pinkBase">Women Western</span><div class="styledComponents__Level2Wrapper-sc-fhghli-10 iDfJtQ"><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Topwear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/western-wear-women/pl/4aus"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628494884141_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">All Topwear</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/tops-ladies/pl/3ja"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628494936705_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Tops &amp; Tunics</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/dresses-women/pl/4ah"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628496536829_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Dresses</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-tshirts/pl/1le4"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628496397000_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">T-shirts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/gowns-women/pl/3l9"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1722439026615_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Gowns</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-tops-bottom-sets/pl/19f"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627307853034_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Tops &amp; Bottom Sets</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/branded-shirts/pl/1lep"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1684834220155_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Shirts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/knee-length-jumpsuits/pl/5ad"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1684834351501_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jumpsuits</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-topwear-trends/pl/40w0"><img alt="Topwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1684834326818_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">New Trends</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Bottom Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/bottom-western-wear-women/pl/4auu"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498099046_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">All Bottomwear</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/regular-fit-jeans-jeggings/pl/3ant"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627307893747_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jeans &amp; Jeggings</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/palazzo-pants/pl/3jb"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498166606_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Palazzos</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/womens-trousers/pl/3no"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661345102031_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Trousers &amp; Pants</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/leggings-women/pl/3mt"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1661341296922_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Leggings</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/shorts-skirts/pl/1ro4"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498202411_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Shorts &amp; Skirts</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Winterwear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/jackets-women/pl/3tcy"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634354390_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jackets</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sweatshirts-women/pl/8hf"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634457033_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Sweatshirts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sweaters-women/pl/8jb"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634542294_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Sweaters</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/shrugs-capes-ponchos/pl/3si"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634578281_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Capes, Shrug &amp; Ponchos</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/coats/pl/405b"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634613902_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Coats</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/waistcoats/pl/a5h"><img alt="Winterwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1731634648016_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Blazers &amp; Waistcoats</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Plus Size</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/plus-size-dresses-gowns/pl/40ws"><img alt="Plus Size" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498286506_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Plus Size - Dresses &amp; Gowns</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/plus-size-tops-tees/pl/40zt"><img alt="Plus Size" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498273406_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Plus Size - Tops &amp; Tees</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/bottomwear/pl/1jhg"><img alt="Plus Size" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628498299451_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Plus size - Bottomwear</h6></a></div></div></div></div>`
    },
    {
        parentName: "Men",
        html: `<div id="ctg_section_24" class="styledComponents__CtgSection-sc-fhghli-7 jrWeRW"><span font-size="11px" font-weight="book" class="sc-dOfePm bdPfua styledComponents__Level1Seperator-sc-fhghli-8 gyLxNi" color="pinkBase">Men</span><div class="styledComponents__Level2Wrapper-sc-fhghli-10 iDfJtQ"><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Top Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-summer-t-shirts/pl/3u71"><img alt="Top Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714980276019_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Summer T-Shirts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/shirts-men/pl/3jq"><img alt="Top Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714980394762_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Shirts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-shirts-combo/pl/1305"><img alt="Top Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714980466849_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">T-Shirts Combos</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Bottom Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/jeans-men/pl/3nw"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714980899661_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jeans</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/cargo-trousers-men/pl/6jp"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714980966351_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Cargos/Trousers</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/dhotis-men/pl/3jp"><img alt="Bottom Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981012964_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Dhotis/Lungis</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Ethnic Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-kurtas/pl/3j2"><img alt="Ethnic Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981103431_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Kurtas</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/cotton-kurta-sets-men/pl/6ra"><img alt="Ethnic Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981216199_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Kurta Sets</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/mens-nehru-jackets/pl/tib"><img alt="Ethnic Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981251513_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Nehru Jacket</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Innerwear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/vests-men/pl/3l0"><img alt="Innerwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981349369_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Vests</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/briefs-men/pl/3t1"><img alt="Innerwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981383121_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Briefs</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-boxers/pl/9te"><img alt="Innerwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981424288_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Boxers</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Sports Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/track-pants-men/pl/3kw"><img alt="Sports Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981513620_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Trackpants</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-tracksuits/pl/8ii"><img alt="Sports Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1721978370084_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Tracksuits</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-gym-tshirts/pl/1rma"><img alt="Sports Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714982927353_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Gym Tshirts</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Night Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-pyjamas/pl/3nq8"><img alt="Night Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981768812_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Pyjamas</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/bermudas-shorts-men/pl/6lr"><img alt="Night Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981833026_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Night Shorts</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-nightsuits/pl/3qma"><img alt="Night Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1714981917177_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Nightsuits</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Winter Wear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/shrugs-men/pl/3nzc"><img alt="Winter Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1730906254266_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Shrugs</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/jackets-men/pl/3oo"><img alt="Winter Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1730906192293_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jackets</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sweatshirts-men/pl/3nv"><img alt="Winter Wear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1730906117271_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Sweatshirts</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Combo Store</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/rakhis/pl/3nq"><img alt="Combo Store" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1721978423649_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Rakhi Specials</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-shirts-combo/pl/1305"><img alt="Combo Store" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1692011327539_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Shirts Combo</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-innerwear-combo/pl/1suw"><img alt="Combo Store" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1692011969577_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Innerwear Combo</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Accessories</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-jewellery/pl/1l6o"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1628502636700_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">All Accessories</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-watches/pl/3k7"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1664796252198_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Watches</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/women-wallets/pl/1l9t"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1664796419867_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Wallets</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-jewellery/pl/18du"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1664796563108_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Jewellery</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sunglasses-men/pl/8gq"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1664822164049_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Sunglasses &amp; Spectacle Frames</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/belts-men/pl/3nn"><img alt="Accessories" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1664822260507_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Belts</h6></a></div></div><div class="styledComponents__Level2ItemsContainer-sc-fhghli-11 kAoKmE"><h6 font-size="17px" font-weight="bold" class="sc-dOfePm dMUbhX styledComponents__Level2Heading-sc-fhghli-9 idhroR" color="pinkBase">Footwear</h6><div class="styledComponents__Level3Wrapper-sc-fhghli-12 cZpSlZ"><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/men-footwear/pl/9u0"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627309348366_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Men Footwear</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/casual-sneakers-men/pl/rsk"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627309366343_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Men Casual Shoes</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sports-shoes-men/pl/8i9"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1592857982152_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Men Sports Shoes</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/sandals-men/pl/3js"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627309376767_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Men Flip Flops and Sandals</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/formal-shoes-men/pl/3o6"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627309386997_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Men Formal Shoes</h6></a><a class="styledComponents__L3ImageWrapper-sc-fhghli-13 fHkoYl" href="/loafers/pl/1o0w"><img alt="Footwear" loading="lazy" width="72" height="72" decoding="async" data-nimg="1" src="https://images.meesho.com/images/marketing/1627309397344_128.webp" style="color: transparent; object-fit: contain;"><h6 class="styledComponents__L3Title-sc-fhghli-14 kLKlWj">Loafers</h6></a></div></div></div></div>`
    },
    {
        parentName: "Kids & Toys",
        html: kidsHtml
    }
];

const seed = async () => {
    try {
        // Regex to find <a> tags containing <img> and <h6>
        const regex = /<img[^>]+src="([^"]+)"[^>]*>.*?<h6[^>]*>([^<]+)<\/h6>/g;

        for (const data of seeds) {
            console.log(`\nProcessing Parent: ${data.parentName}`);

            // 1. Create/Find Parent Category
            let parentCat = await ParentCategory.findOne({ name: data.parentName });

            if (!parentCat) {
                // Try to find the first image in the HTML to use as parent image
                const firstImgMatch = /src="([^"]+)"/.exec(data.html);
                const parentImage = firstImgMatch ? firstImgMatch[1] : "https://images.meesho.com/images/marketing/1663324521306_128.webp";

                parentCat = new ParentCategory({
                    name: data.parentName,
                    image: parentImage
                });
                await parentCat.save();
                console.log(`  > Created Parent: ${data.parentName}`);
            } else {
                console.log(`  > Parent already exists`);
            }

            // 2. Parse HTML and Create Child Categories
            let match;
            let count = 0;
            // Reset regex lastIndex for new string
            regex.lastIndex = 0;

            // Create a fresh regex instance for each loop to avoid state issues if reusing
            const blockRegex = /<img[^>]+src="([^"]+)"[^>]*>.*?<h6[^>]*>([^<]+)<\/h6>/g;

            while ((match = blockRegex.exec(data.html)) !== null) {
                const imageUrl = match[1];
                const name = match[2];

                // Check if exists
                const existing = await Category.findOne({ name: name, parentCategory: parentCat._id });
                if (!existing) {
                    const newCat = new Category({
                        name: name,
                        image: imageUrl,
                        parentCategory: parentCat._id
                    });
                    await newCat.save();
                    count++;
                    console.log(`  + Added Child: ${name}`);
                }
            }
            console.log(`  > Added ${count} new children.`);
        }

        console.log(`\nAll Done!`);
        process.exit();

    } catch (err) {
        console.error(err);
        process.exit(1);
    }
};

setTimeout(seed, 2000); // Wait for DB connection
